India and China's leaders have successfully agreed in Delhi on plans for economic and other co-operation despite over 1,000 troops from each side facing off against each other in Ladakh on the two countries' disputed border, known as the Line of Actual Control (LAC), 15,000ft up in the Himalayan mountains,China is to invest $20bn in Indian infrastructure projects over five years, and eight agreements and memorandums of understanding were signed on subjects ranging from China modernising Indian railways and building industrial parks to twinning the commercial capitals of Mumbai and Shanghai and Ahmedabad in Gujarat with Guangzhou in the Chinese province of Guangdong. A five-year economic and trade development plan was also agreed.The visit was supposed to have been full of friendliness and co-operation. The day that China's president Xi Jinping arrived was prime minister Narendra Modi's 64thbirthday, and Modi celebrated it by proudly hosting Xi to a carefully choreographed afternoon and evening of serenading and dining (with 150 vegetarian dishes) on the waterfront of the Sabarmati River in Ahmedabad, the biggest city in Gujarat where he was chief minister.The chemistry between the two leaders, who had previously bonded at a BRICS summit July, was good and Modi's eyes twinkled when he spoke to Peng Liyuan, Xi's wife, who is a famous folk singer and former soldier. Today, Peng has had informal meeting with school childrenBut Modi's day was spoiled not only by the troops massing on the border, which threatened to upset the mood, but also by bad by-election results announced the day before when the Bharatiya Janata Party lost significant regional assembly seats.Confrontations happen frequently on the LAC, mainly stemming from the lack of a demarcated line for the current border. A similar confrontation built up just before China's prime minister visited India last year, but that was solved before he arrived. This time, there have been at least two confrontations and they increased even after Xi had arrived, without Chinese troops withdrawing.. While it seems unlikely that Xi personally ordered the Chinese troops to cross what India regards as the border, there is speculation that the People's Liberation Army decided to flex its muscles and test India's reaction - and Xi may not have been in a position to stop it. If that is correct, it underlines the PLA's growing independence.Modi had promised before he became prime minister to take a tougher line over border incidents with China and Pakistan, and it seems that India has reacted more aggressively that it has done in the past by moving troops rapidly to the LAC to match and even exceed the number of Chinese troops. He also, inevitably, complained about the Chinese troop activity during talks with Xi both in Ahmedabad and in Delhi.In a prepared media statement after the talks, Modi voiced India's "serious concern over repeated incidents along the border", and said peace on the border was essential for "mutual trust and confidence and for realizing the full potential" of the relationship. "This is an important understanding, which should be strictly observed," said Modi, using tougher language than is usual.Modi had promised before he became prime minister to take a tougher line over border incidents with China and Pakistan, and it seems that India has reacted more aggressively than it has done in the past by moving troops rapidly to the LAC to match and even exceed the number of Chinese troops. He also, inevitably, complained about the Chinese troop activity during talks with Xi both yesterday in Ahmedabad and today.In a prepared media statement after the talks, Modi voiced India's "serious concern over repeated incidents along the border", and said peace on the border was essential for "mutual trust and confidence and for realizing the full potential" of the relationship."This is an important understanding, which should be strictly observed," said Modi, using tougher language than is usual. He also suggested reducing the risk of confrontations by demarcating where the existing border runs, while leaving (though he did not spell this out) the dispute over a permanent settlement till later.Xi was the first Chinese president to visit India since 2006 and he sounded constructive in his remarks and, though he used the words always deployed by China that the border dispute is something "left over by history".Modi saw Xi's visit as an opportunity to attract China's capital and technology to help modernise India's infrastructure and industry. It follows a similar exercise when he visited Japan three weeks ago and obtained investment pledges, and then met the Australian prime minister in Delhi. This is in line with Modi's pro-active approach to diplomacy, where he wants to develop foreign policy far more positively than has happened in the past to harness other countries' help in accelerating India's under-performing economy and industry.The $20bn figure is much lower than rumours of an unrealistically high figure of $100bn, but it is a massive increase on the $400m that China has invested in the past ten years. The figure offered by Japan was $35bn and the challenge for Modi now is to speed up its slow-moving bureaucracy and project approval system to absorb such big investments. There is also serious concern in India about the poor quality of some Chinese power project equipment which, it appears, was not mentioned today.Xi arrived in India from Sri Lanka and the Maldives where he had been increasing China's involvement in what used to be seen as a region of India-influence. He unveiled new infrastructure projects in both countries, and talked about them having a role in reviving an "ancient maritime silk road" of trading posts that led to China. In Sri Lanka he inaugurated a China-funded $1.5bn port development in the capital, Colombo, which is billed as the island's biggest ever foreign investment project. Xi was also to have gone to Pakistan, a long-term China ally, but cancelled to visit because of he political unrest in the capital, Islamabad.The BJP losses came in by-elections for state assemblies in eight states and followed other less significant defeats in recent weeks. This week's results were significant because they involved the key northern state of Uttar Pradesh, where the BJP did spectacularly well in the general election but lost eight out of 11 seats to the regional Samajwadi Party. In Modi's home state of Gujarat, it was defeated by the Congress Party in three out of nine seats.These results may show some disenchantment with Modi's national government for not tackling basic problems such as prices. But more importantly they seem to show voters in UP turning against divisive Hindu nationalist anti-Muslim rhetoric orchestrated by Amit Shah, a Modi confidante who has been controversially installed as the party's national president. It is also significant that Modi was not personally active in the by-election campaigns, which underlines the point that the general election result was more a vote for him personally than for the BJP.There are more photographs on John Elliott's own blog - http://ridingtheelephant.wordpress.com/2014/09/18/india-and-china-agree-deals-despite-border-face-off/